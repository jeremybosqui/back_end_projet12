<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: User_Dashboard.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: User_Dashboard.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useEffect, useState} from "react";

import {useParams} from "react-router";
import SideBar from "../Utils/Side_Bar";
import UserInfos from "../Components/Infos_User";
import {BottomChart, Container, Content, Main} from "../Style/userStyle";
import caloriesIcon from "../Assets/BurnKcls.svg";
import proteinsIcon from "../Assets/Proteins.svg";
import glucidesIcon from "../Assets/Glucid.svg";
import lipidesIcon from "../Assets/lipides-icon.svg";
import BarCharts from "../Components/Bar_Chart";
import ScoreChart from "../Components/Score_Chart_User";
import KeyData from "../Components/Data_Key";
import UserAverageSessions from "../Components/Average_Session_User";
import UserPerformance from "../Components/Performance_User";
import Error from "./Error_404";

/** display les infos principals du user suivant l'id
 * @return {JSX.Element}
 */
 function User() {

  /*const [dataUser, setData] = useState([])
  const { id } = useParams()

  useEffect(() => {
    const data = async () => {
        const [request] = await Promise.all([getData("USER_MAIN_DATA", id)])
      if (!request) {
          return alert("data error")
      }
        const {data: data1} = request;
        setData(data1)
    }
    data().then(() => undefined)
        .catch(console.log["something wrong"])
  }, [id])
  if (dataUser.length === 0) {
      return null
  }*/

    const [dataUser, setData] = useState({keyData:{'calorieCount':'','proteinCount':'','carbohydrateCount':'','lipidCount':''}, userInfos:{'lastName':'', 'firstName':''}});

    const { id } = useParams();

    useEffect (function (){
        fetch('/Datas/DataMain.json')
            .then((response) => {
                return response.json()
            })
            .then((data) => {
                for (let i=0; i&lt;data.length; i++){
                    if (data[i].id === id){
                        setData(data[i])
                        console.log("reponse ok")
                    }
                }
            })
            .catch(console.log["error on APi"])
    },[id]);


  return dataUser.id === id ? (
    &lt;Main>
        &lt;SideBar />
      &lt;Container>
      &lt;UserInfos name={dataUser.userInfos.firstName + ' ' + dataUser.userInfos.lastName} />
      &lt;Content>
          &lt;section>
            &lt;BarCharts />
            &lt;BottomChart>
              &lt;UserAverageSessions />
              &lt;UserPerformance />
              &lt;ScoreChart data={dataUser} />
            &lt;/BottomChart>
          &lt;/section>
          &lt;aside>
            &lt;KeyData
              icon={caloriesIcon}
              info={`${dataUser.keyData.calorieCount}kCal`}
              text="Calories"
            />
            &lt;KeyData
              icon={proteinsIcon}
              info={`${dataUser.keyData.proteinCount}g`}
              text="Proteines"
            />
            &lt;KeyData
              icon={glucidesIcon}
              info={`${dataUser.keyData.carbohydrateCount}g`}
              text="Glucides"
            />
            &lt;KeyData
              icon={lipidesIcon}
              info={`${dataUser.keyData.lipidCount}g`}
              text="Lipides"
            />
          &lt;/aside>
        &lt;/Content>
      &lt;/Container>
    &lt;/Main>
  ) : &lt;Error />
}

export default User
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#PerformPage">PerformPage</a></li><li><a href="global.html#User">User</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Wed Nov 09 2022 11:00:45 GMT-0400 (Atlantic Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
